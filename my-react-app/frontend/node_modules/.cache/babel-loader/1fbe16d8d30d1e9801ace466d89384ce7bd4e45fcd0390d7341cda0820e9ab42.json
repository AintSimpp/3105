{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [genderedUsers, setGenderedUsers] = useState(null);\n  const [lastDirection, setLastDirection] = useState();\n\n  /*\r\n  const userId = cookies.UserId\r\n      const getUser = async () => {\r\n      try {\r\n          const response = await axios.get('http://localhost:8000/user', {\r\n              params: {userId}\r\n          })\r\n          setUser(response.data)\r\n      } catch (error) {\r\n          console.log(error)\r\n      }\r\n  }\r\n  const getGenderedUsers = async () => {\r\n      try {\r\n          const response = await axios.get('http://localhost:8000/gendered-users', {\r\n              params: {gender: user?.gender_interest}\r\n          })\r\n          setGenderedUsers(response.data)\r\n      } catch (error) {\r\n          console.log(error)\r\n      }\r\n  }\r\n    useEffect(() => {\r\n      getUser()\r\n    }, [])\r\n    useEffect(() => {\r\n      if (user) {\r\n          getGenderedUsers()\r\n      }\r\n  }, [user])\r\n    const updateMatches = async (matchedUserId) => {\r\n      try {\r\n          await axios.put('http://localhost:8000/addmatch', {\r\n              userId,\r\n              matchedUserId\r\n          })\r\n          getUser()\r\n      } catch (err) {\r\n          console.log(err)\r\n      }\r\n  }\r\n      const swiped = (direction, swipedUserId) => {\r\n      if (direction === 'right') {\r\n          updateMatches(swipedUserId)\r\n      }\r\n      setLastDirection(direction)\r\n  }\r\n    const outOfFrame = (name) => {\r\n      console.log(name + ' left the screen!')\r\n  }\r\n    const matchedUserIds = user?.matches.map(({user_id}) => user_id).concat(userId)\r\n    const filteredGenderedUsers = genderedUsers?.filter(genderedUser => !matchedUserIds.includes(genderedUser.user_id))\r\n      console.log('filteredGenderedUsers ', filteredGenderedUsers)\r\n  */\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n_s(Dashboard, \"4mpCL6HoA6GKBeylATqNSt+NUBU=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useEffect","useState","Fragment","_Fragment","jsxDEV","_jsxDEV","Dashboard","_s","user","setUser","genderedUsers","setGenderedUsers","lastDirection","setLastDirection","_c","$RefreshReg$"],"sources":["C:/Users/Chaim Joseph/3105-FP/fp/my-react-app/src/pages/Dashboard.jsx"],"sourcesContent":["import {useEffect, useState} from 'react'\r\n\r\n\r\nconst Dashboard = () => {\r\n    const [user, setUser] = useState(null)\r\n    const [genderedUsers, setGenderedUsers] = useState(null)\r\n    const [lastDirection, setLastDirection] = useState()\r\n\r\n    /*\r\n    const userId = cookies.UserId\r\n\r\n\r\n    const getUser = async () => {\r\n        try {\r\n            const response = await axios.get('http://localhost:8000/user', {\r\n                params: {userId}\r\n            })\r\n            setUser(response.data)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n    const getGenderedUsers = async () => {\r\n        try {\r\n            const response = await axios.get('http://localhost:8000/gendered-users', {\r\n                params: {gender: user?.gender_interest}\r\n            })\r\n            setGenderedUsers(response.data)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getUser()\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            getGenderedUsers()\r\n        }\r\n    }, [user])\r\n\r\n    const updateMatches = async (matchedUserId) => {\r\n        try {\r\n            await axios.put('http://localhost:8000/addmatch', {\r\n                userId,\r\n                matchedUserId\r\n            })\r\n            getUser()\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n\r\n    const swiped = (direction, swipedUserId) => {\r\n        if (direction === 'right') {\r\n            updateMatches(swipedUserId)\r\n        }\r\n        setLastDirection(direction)\r\n    }\r\n\r\n    const outOfFrame = (name) => {\r\n        console.log(name + ' left the screen!')\r\n    }\r\n\r\n    const matchedUserIds = user?.matches.map(({user_id}) => user_id).concat(userId)\r\n\r\n    const filteredGenderedUsers = genderedUsers?.filter(genderedUser => !matchedUserIds.includes(genderedUser.user_id))\r\n\r\n\r\n    console.log('filteredGenderedUsers ', filteredGenderedUsers)\r\n    */\r\n    return (\r\n        <>\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Dashboard"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGzC,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACS,aAAa,EAAEC,gBAAgB,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACW,aAAa,EAAEC,gBAAgB,CAAC,GAAGZ,QAAQ,CAAC,CAAC;;EAEpD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAcI,oBACII,OAAA,CAAAF,SAAA,mBAEE,CAAC;AAEX,CAAC;AAAAI,EAAA,CA7EKD,SAAS;AAAAQ,EAAA,GAATR,SAAS;AA+Ef,eAAeA,SAAS;AAAA,IAAAQ,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}